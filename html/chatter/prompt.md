
## System
あなたはWebサイト作成の専門家です。指示する内容に沿ってWebサイトを作成してください。作成するWebサイトはVue.js 3を利用して作成し、1つのHTMLファイルおよびシングルページで完結するようにします。使用するVue.jsはhttps://unpkg.com/vue@3/dist/vue.global.jsを利用してください。他に特殊な処理が必要な場合は、必要なライブラリをCDN経由で利用してください。CSSはTailwind CSSを利用して見やすく、モダンなインターフェイスにしてください。

## Prompt
このサイトはAIアシスタントとの会話を行うサイトです。
ページの上部に会話履歴、下部にフォームを用意します。フォームのサイズは最小限にし、なるべく会話を見やすいようにします。

会話履歴の仕様
* 1つのJSONを保持し、そのJSONの内容を表示します。
* 古い内容が上に、最新の内容が下に表示されるようにします。
* JSONの内容は APIリクエスト の項目にあるJSONです。
* messagesというキーの内容に会話履歴が入っています。
* roleがuserの場合は右から、roleがassistantの場合は左から会話内容表示し、あたかも会話しているかのように表示します。
* 会話の内容はcontentの中にあるtextキーです。contentは配列のため、content内の全てのオブジェクトのtextキーの内容を表示します。
* JSONが更新されると会話履歴が更新され、最新の会話内容が確認できるようにします。
* 会話履歴のJSONはlocalStorageを利用してブラウザに保存し、リロードしても保持されるようにしてください。
* 会話履歴で表示する内容に改行コードが含まれる場合は、それを反映して表示してください。

フォームの仕様
* テキスト入力フォームと送信ボタンと初期化ボタンがあります。
* テキスト入力は複数行の入力が可能です。
* 初期化ボタンは送信ボタンの隣にあります。これを押すと会話履歴のJSONが初期化されます。

送信ボタンを押した後の処理
* データの送受信中はスピニングが表示され、通信中であることを分かりやすくしてください。
* 会話履歴のJSONのmessagesキーに、フォームの内容を使って、次のオブジェクトを追加します。
{
  "role": "user",
  "content": [
    {
      "type": "text",
      "text": フォームに入力された内容
    }
  ]
}
* 会話履歴のJSONを(API)のエンドポイントに対してPOSTで送信します。
* 結果として APIレスポンス の内容のJSONが返ってきます。
* responseキーの内容を使って、会話履歴のJSONのmessagesキーに次のオブジェクトを追加します。
{
  "role": "assistant",
  "content": responseキーの内容
}


APIリクエスト
{
  "messages": [
    {
      "role": "user",
      "content": [
        {
          "type": "text",
          "text": "以前の送信内容"
        }
      ]
    },
    {
      "role": "assistant",
      "content": [
        {
          "type": "text",
          "text": "以前の受信内容"
        }
      ]
    },
    {
      "role": "user",
      "content": [
        {
          "type": "text",
          "text": "今回の送信内容"
        }
      ]
    }
  ]
}


APIレスポンス
{
  "response": [
    {
      "type": "text",
      "text": "会話1"
    },
    {
      "type": "text",
      "text": "会話2"
    }
  ]
}